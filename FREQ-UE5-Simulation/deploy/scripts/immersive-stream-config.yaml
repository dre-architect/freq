# =============================================================================
# FREQ AI — Google Immersive Stream for XR Configuration
# This file defines the streaming service parameters for GCP deployment
# =============================================================================

service:
  name: freq-barge-simulation
  displayName: "FREQ AI — Autonomous Barge Drafting Simulation"
  description: >
    Photorealistic maritime cargo drafting simulation demonstrating
    autonomous barge loading with real-time draft monitoring,
    crane operations, and MOB safety detection.
    Built in Unreal Engine 5 with Lumen GI, streamed via Pixel Streaming.

content:
  # UE5 packaged build location in Cloud Storage
  bucket: "${PROJECT_ID}-freq-simulation"
  objectPrefix: "builds/v1"
  # Entry point within the packaged build
  executablePath: "FREQSimulation/Binaries/Linux/FREQSimulation"
  launchArgs:
    - "-AudioMixer"
    - "-PixelStreamingIP=0.0.0.0"
    - "-PixelStreamingPort=8888"
    - "-RenderOffScreen"
    - "-Unattended"
    - "-GraphicsAdapter=0"
    - "-ForceRes"
    - "-ResX=1920"
    - "-ResY=1080"
    - "-AllowPixelStreamingCommands"

streaming:
  # WebRTC streaming parameters
  targetFps: 60
  resolution:
    width: 1920
    height: 1080
  encoder:
    codec: H264
    minBitrateMbps: 10
    maxBitrateMbps: 100
    startBitrateMbps: 50
  # STUN/TURN for WebRTC NAT traversal
  iceServers:
    - urls: "stun:stun.l.google.com:19302"

serving:
  # GPU instance configuration
  gpuType: nvidia-tesla-t4
  # Scaling
  minInstances: 1
  maxInstances: 5
  # Regions for multi-region serving (start with one, expand later)
  regions:
    - us-central1
  # Session limits
  maxSessionDurationMinutes: 30
  idleTimeoutMinutes: 5

networking:
  # Custom domain (configure after initial deployment)
  # customDomain: "sim.freqai.com"
  # SSL is handled automatically by Google
  enableCors: true
  allowedOrigins:
    - "*"

observability:
  # Cloud Logging
  enableLogging: true
  logLevel: INFO
  # Cloud Monitoring
  enableMonitoring: true
  # Alerts (configure thresholds)
  alerts:
    gpuUtilizationThreshold: 90
    sessionCountThreshold: 4
    errorRateThreshold: 5
